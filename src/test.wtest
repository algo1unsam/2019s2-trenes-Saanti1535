import trenes.*
import formaciones.*
import deposito.*

describe "tests" {

	/* vagonP = pasajeros ----- vagonC = carga */
	const vagonP1
	const vagonP2
	const vagonP3
	const vagonC1
	const vagonC2
	const vagonC3
	const formacion1
	const formacion2
	const locomotora1
	const locomotora2
	const locomotora3
	const locomotora4
	const deposito

	fixture {
		vagonP1 = new VagonPasajeros(largo = 10, ancho = 3)
		vagonP2 = new VagonPasajeros(largo = 15, ancho = 2)
		vagonP3 = new VagonPasajeros(largo = 3, ancho = 1)
		vagonC1 = new VagonCarga(cargaMaxima = 2300)
		vagonC2 = new VagonCarga(cargaMaxima = 5000)
		vagonC3 = new VagonCarga(cargaMaxima = 1000)
		locomotora1 = new Locomotora(maximoArrastre = 10000, pesoMaximo = 1000, velocidadMaxima = 100)
		locomotora2 = new Locomotora(maximoArrastre = 15000, pesoMaximo = 1500, velocidadMaxima = 100)
		locomotora3 = new Locomotora(maximoArrastre = 200, pesoMaximo = 250, velocidadMaxima = 150)
		locomotora4 = new Locomotora(maximoArrastre = 20000, pesoMaximo = 1500, velocidadMaxima = 40)
		formacion1 = new Formacion(vagonesCarga = [ vagonC1 ], vagonesPasajeros = [ vagonP1 ], locomotoras = [ locomotora1 ])
		formacion2 = new Formacion(vagonesCarga = [ vagonC2, vagonC3 ], vagonesPasajeros = [ vagonP2, vagonP3 ], locomotoras = [ locomotora2 ])
		deposito = new Deposito(formaciones = [ formacion1, formacion2 ], locomotoras = [ locomotora3, locomotora4 ])
	}

	test "cantidad maxima de pasajeros" {
		assert.equals(100, vagonP1.cantidadPasajerosMax()) // / .pesoMaximo() = 8000
		assert.equals(120, vagonP2.cantidadPasajerosMax()) // / .pesoMaximo() = 9600
		assert.equals(24, vagonP3.cantidadPasajerosMax()) // / .pesoMaximo() = 1920
	}

	test "cantidad total de vagones" {
		assert.equals(2, formacion1.cantidadDeVagones()) // NO ENCUENTRO EL ERROR
		assert.equals(4, formacion2.cantidadDeVagones()) // NO ENCUENTRO EL ERROR
	}

	test "cantidad de vagones livianos en una formacion" {
		assert.equals(1, formacion1.cantidadVagonesLivianos())
		assert.equals(2, formacion2.cantidadVagonesLivianos())
	}

}

